<p id="notice"><%= notice %></p>

<p>
  <strong>Invoice ID:</strong>
  <%= @invoice.id %>
</p>

<p>
  <strong>Status:</strong>
  <%= @invoice.status %>
</p>

<p>
  <strong>Created At:</strong>
  <%= @invoice.format_date %>
</p>

<p>
  <strong>Customer:</strong>
  <%= @invoice.customer.first_name %> <%= @invoice.customer.last_name %>
</p>

<p>
  <strong>Total Revenue:</strong>
  $<%= @invoice.total_revenue %>
</p>

<br>

<h3>Items:</h3>

<table>
  <thead>
    <tr>
      <th>Item Name</th>
      <th>Quantity</th>
      <th>Unit Price</th>
      <th>Item Status</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @invoice_items.each do |inv_item| %>
      <tr>
        <td><%= inv_item.item.name %></td>
        <td><%= inv_item.quantity %></td>
        <td><%= inv_item.unit_price %></td>
        <%= form_with(model: inv_item, local: true) do |form| %>
          <td><%= form.select :status, options_for_select(InvoiceItem.statuses.keys, inv_item.status) %>
          <%= form.submit "Update Item Status" %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
<br>

<%= link_to 'Edit', edit_invoice_path(@invoice) %> |
<%= link_to 'Back', invoices_path %>

<br>
<br>